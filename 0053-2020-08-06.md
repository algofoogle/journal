# 6 Aug 2020

## Yet more Verilator

I made [`t01d`](https://github.com/algofoogle/sandpit/tree/master/fpga/verilator/test01/t01d):
*   Uses a [`Makefile`](https://github.com/algofoogle/sandpit/blob/master/fpga/verilator/test01/t01d/Makefile) to build/run the thing now. Just a simple example so far. `make clean` will delete any existing `obj_dir`. `make` is the same as `make all` which does `clean`, then builds the project. `make run` will just do the general (initial 0) run, building if needed. `make run1` and `make run2` will run, respectively, with: (1) all unassigned bits set; (2) unassigned bits randomised.
*   `.gitignore` excludes `obj_dir` now, since it is platform-specific, and all of its contents (for now) can just be rebuilt by Verilator.
*   Actual project is a sawtooth counter (i.e. given a clock, it counts up and then down again). It supports a `SIZE` parameter (defaults to 8-bit output), but I'm not yet sure how to override this in Verilator.
*   Test bench inspects the high bit of `saw_count__DOT__counter` to see inside the module to see whether it's currently counting up or down.

## Other things to review

*   How to override Verilog `parameter`s in Verilator?
*   Need to try out [GTKWave](http://gtkwave.sourceforge.net/) for Windows and macOS. At the time of writing, win64 binary is only up to [3.3.100](https://sourceforge.net/projects/gtkwave/files/gtkwave-3.3.100-bin-win64/), and macOS only up to [3.3.103](https://sourceforge.net/projects/gtkwave/files/gtkwave-3.3.103-osx-app/), and can also be installed via `brew install gtkwave`? Check out the list of all releases [here](https://sourceforge.net/projects/gtkwave/files/).
*   [VCD file format](https://en.wikipedia.org/wiki/Value_change_dump) seems pretty straightforward.
*   [FST (Fast Signal Trace)](http://gtkwave.sourceforge.net/gtkwave.pdf#page=135&zoom=100,132,72) is an alternative to VCD, [used by GTKWave](https://www.veripool.org/projects/verilator/wiki/Manual-verilator#How-do-I-generate-FST-waveforms-traces-in-C). Maybe it has more features? It definitely has compression.
*   [CVC](http://www.tachyon-da.com/what-is-cvc/) is an alternative to Verilator and Icarus?
*   Comments on [Accessing Signals in Verilator Models](https://www.embecosm.com/appnotes/ean6/html/ch06s02.html) (see also; its subheadings 6.2.x).
*   Learn Makefiles and produce one for use in Verilator, XISE projects, etc. [This looks like a great tutorial](https://makefiletutorial.com/) but I recall a similar site that might have been even better.

