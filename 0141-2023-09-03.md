# 3 Sep 2023

| Previous journal: | Next journal: |
|-|-|
| [**0140**-2023-09-02.md](./0140-2023-09-02.md) | *Next journal TBA* |

# raybox-zero

Another quick update with a couple of tests...

### test006: shared multiplier with registered inputs instead of mux

<details><summary>Click for details...</summary>

Code:
*   tt04-raybox-zero: [`70f1a6c`](https://github.com/algofoogle/tt04-raybox-zero/commit/70f1a6c?diff=split): harden_test: Minor update to change parameter order
    *   Equivalent to: [`7aae611`](https://github.com/algofoogle/tt04-raybox-zero/commit/7aae6113ba657507045dc5032e27ae59020a8336?diff=split): Wire up SPI for fixed pov
*   src/raybox-zero: [`96ecd25`](https://github.com/algofoogle/raybox-zero/commit/96ecd25?diff=split): test006: shared multiplier with registered inputs instead of mux

Summary:
*   test006 branches off test005 (Shared multiplier for trackInit)
*   Changes shared multiplier's input mux to use registers for each input instead.

Options used:
```
  STARTED: 2023-09-03 19:30:17
    STOPT: 0
  OUTFILE: stats-test006.md
   SELECT: :[1245]
    FORCE: 0
      TAG: test006: shared multiplier with registered inputs instead of mux
 FINISHED: 2023-09-03 20:08:50
```

</details>

| | 4x2:1 | 8x2:1 | 4x2:2 | 8x2:2 | 4x2:3 | 8x2:3 | 4x2:4 | 8x2:4 | 4x2:5 | 8x2:5 |
|-|-:|-:|-:|-:|-:|-:|-:|-:|-:|-:|
| suggested_mhz | 24.39 | 25.00 | 47.62 | 49.60 | 0.00 | 0.00 | 45.64 | 45.89 | 25.00 | 25.00 |
| utilisation_% | 61.75 | 30.65 | 61.75 | 30.65 | 0.00 | 0.00 | 50.76 | 25.19 | 50.64 | 25.13 |
| wire_length_um | 0 | 269,871 | 0 | 273,273 | 0 | 0 | 201,705 | 203,784 | 193,820 | 195,287 |
| TotalCells | 11,197 | 36,444 | 11,197 | 36,579 | 0 | 0 | 20,764 | 35,685 | 20,523 | 35,590 |
| cells_pre_abc | 12,739 | 12,739 | 12,739 | 12,739 | 0 | 0 | 12,739 | 12,739 | 12,739 | 12,739 |
| synth_cells | 8,877 | 8,877 | 8,877 | 8,877 | 0 | 0 | 7,447 | 7,447 | 7,447 | 7,447 |
| logic_cells | 8,877 | 9,403 | 8,877 | 9,545 | 0 | 0 | 8,028 | 8,043 | 7,975 | 7,983 |
| pin_antennas | -1 | 9 | -1 | 5 | 0 | 0 | 1 | 4 | 3 | 1 |
| net_antennas | -1 | 9 | -1 | 5 | 0 | 0 | 1 | 4 | 3 | 1 |
| spef_wns | 0.00 | 0.00 | 0.00 | -0.16 | 0.00 | 0.00 | -1.91 | -1.79 | 0.00 | 0.00 |
| spef_tns | 0.00 | 0.00 | 0.00 | -1.09 | 0.00 | 0.00 | -100.02 | -95.65 | 0.00 | 0.00 |

Findings:
*   Overall, this is worse than test005, except in 8x2:4 where it's slightly faster.


### test006 but with extra optional reset logic in effect

<details><summary>Click for details...</summary>

Code:
*   tt04-raybox-zero: [`70f1a6c`](https://github.com/algofoogle/tt04-raybox-zero/commit/70f1a6c?diff=split): harden_test: Minor update to change parameter order
    *   Equivalent to: [`7aae611`](https://github.com/algofoogle/tt04-raybox-zero/commit/7aae6113ba657507045dc5032e27ae59020a8336?diff=split): Wire up SPI for fixed pov
*   src/raybox-zero: [`96ecd25`](https://github.com/algofoogle/raybox-zero/commit/96ecd25?diff=split): test006 but modified with more registers being reset in the optional block.

Summary:
*   Same as test006 above, but with stepDist and mulin_a/b registers being reset to 0.

Options used:
```
  STARTED: 2023-09-03 19:39:52
    STOPT: 0
  OUTFILE: stats-test006-extrareset.md
   SELECT: :[1245]
    FORCE: 0
      TAG: test006 but with extra optional reset logic in effect
 FINISHED: 2023-09-03 20:23:28
```

</details>

| | 4x2:1 | 8x2:1 | 4x2:2 | 8x2:2 | 4x2:3 | 8x2:3 | 4x2:4 | 8x2:4 | 4x2:5 | 8x2:5 |
|-|-:|-:|-:|-:|-:|-:|-:|-:|-:|-:|
| suggested_mhz | 24.39 | 25.00 | 47.62 | 49.31 | 0.00 | 0.00 | 46.95 | 46.42 | 25.00 | 25.00 |
| utilisation_% | 62.66 | 31.10 | 62.66 | 31.10 | 0.00 | 0.00 | 51.41 | 25.51 | 51.29 | 25.46 |
| wire_length_um | 0 | 270,010 | 0 | 271,623 | 0 | 0 | 207,030 | 210,238 | 200,742 | 207,355 |
| TotalCells | 11,353 | 36,654 | 11,353 | 36,698 | 0 | 0 | 20,928 | 35,897 | 20,602 | 35,696 |
| cells_pre_abc | 12,750 | 12,750 | 12,750 | 12,750 | 0 | 0 | 12,750 | 12,750 | 12,750 | 12,750 |
| synth_cells | 9,033 | 9,033 | 9,033 | 9,033 | 0 | 0 | 7,555 | 7,555 | 7,555 | 7,555 |
| logic_cells | 9,033 | 9,556 | 9,033 | 9,680 | 0 | 0 | 8,171 | 8,242 | 8,129 | 8,112 |
| pin_antennas | -1 | 4 | -1 | 4 | 0 | 0 | 4 | 1 | 3 | 1 |
| net_antennas | -1 | 3 | -1 | 4 | 0 | 0 | 4 | 1 | 3 | 1 |
| spef_wns | 0.00 | 0.00 | 0.00 | -0.28 | 0.00 | 0.00 | -1.30 | -1.54 | 0.00 | 0.00 |
| spef_tns | 0.00 | 0.00 | 0.00 | -3.46 | 0.00 | 0.00 | -67.98 | -82.44 | 0.00 | 0.00 |

Findings:
*   Marginally worse again than test006 above, except for faster clock speed in 4x2:4 and 8x2:4 -- more due to randomness??

